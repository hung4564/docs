import{t as v}from"./index.CHp6lZsi.js";import{d as p}from"./configurable.DoS0fK6c.js";import{s as A,V as F}from"./framework.BN-DpKB1.js";function L(m,c={}){const{immediate:d=!0,fpsLimit:a=void 0,window:e=p}=c,n=A(!1),u=a?1e3/a:null;let t=0,i=null;function o(r){if(!n.value||!e)return;t||(t=r);const f=r-t;if(u&&f<u){i=e.requestAnimationFrame(o);return}t=r,m({delta:f,timestamp:r}),i=e.requestAnimationFrame(o)}function l(){!n.value&&e&&(n.value=!0,t=0,i=e.requestAnimationFrame(o))}function s(){n.value=!1,i!=null&&e&&(e.cancelAnimationFrame(i),i=null)}return d&&l(),v(s),{isActive:F(n),pause:s,resume:l}}export{L as u};
