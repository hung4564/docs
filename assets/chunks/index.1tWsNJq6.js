import{t as u}from"./index.CHp6lZsi.js";import{a as f}from"./configurable.DoS0fK6c.js";import{h as p}from"./is.DGW30r2M.js";import{s as m,V as g}from"./framework.BN-DpKB1.js";function d(){const o=new Set,n=t=>{o.delete(t)};return{on:t=>{o.add(t);const e=()=>n(t);return u(e),{off:e}},off:n,trigger:(...t)=>Promise.all(Array.from(o).map(e=>e(...t)))}}const y={multiple:!0,accept:"*",reset:!1,directory:!1};function k(o={}){const{document:n=f}=o,c=m(null),{on:l,trigger:t}=d();let e;n&&(e=n.createElement("input"),e.type="file",e.onchange=s=>{const r=s.target;c.value=r.files,t(c.value)});const a=()=>{c.value=null,e&&e.value&&(e.value="",t(null))},i=s=>{if(!e)return;const r={...y,...o,...s};e.multiple=r.multiple,e.accept=r.accept,e.webkitdirectory=r.directory,p(r,"capture")&&(e.capture=r.capture),r.reset&&a(),e.click()};return{files:g(c),open:i,reset:a,onChange:l}}export{k as u};
