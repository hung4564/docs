import{t as u}from"./index.qVbhMwFm.js";import{h as f}from"./is.CvtvcIRX.js";import{a as p}from"./configurable.BnIb_oSx.js";import{p as m,S as g}from"./framework.ArdWB6UD.js";function d(){const o=new Set,n=t=>{o.delete(t)};return{on:t=>{o.add(t);const e=()=>n(t);return u(e),{off:e}},off:n,trigger:(...t)=>Promise.all(Array.from(o).map(e=>e(...t)))}}const y={multiple:!0,accept:"*",reset:!1,directory:!1};function S(o={}){const{document:n=p}=o,c=m(null),{on:s,trigger:t}=d();let e;n&&(e=n.createElement("input"),e.type="file",e.onchange=l=>{const r=l.target;c.value=r.files,t(c.value)});const a=()=>{c.value=null,e&&e.value&&(e.value="",t(null))},i=l=>{if(!e)return;const r={...y,...o,...l};e.multiple=r.multiple,e.accept=r.accept,e.webkitdirectory=r.directory,f(r,"capture")&&(e.capture=r.capture),r.reset&&a(),e.click()};return{files:g(c),open:i,reset:a,onChange:s}}export{S as u};
