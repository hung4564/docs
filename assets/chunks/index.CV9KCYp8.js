import{t as d}from"./index.8yTjE-xb.js";import{d as h}from"./configurable.DoS0fK6c.js";import{t as A}from"./index.rxAxMNzT.js";import{n as v,b as E}from"./is.DGW30r2M.js";import{u as L}from"./index.BPPiZLzS.js";import{v as b}from"./framework.CTGY6mxV.js";function C(...s){let n,r,e,f;if(typeof s[0]=="string"||Array.isArray(s[0])?([r,e,f]=s,n=h):[n,r,e,f]=s,!n)return v;Array.isArray(r)||(r=[r]),Array.isArray(e)||(e=[e]);const p=[],m=()=>{p.forEach(t=>t()),p.length=0},c=(t,o,a,i)=>(t.addEventListener(o,a,i),()=>t.removeEventListener(o,a,i)),l=b(()=>[L(n),A(f)],([t,o])=>{if(m(),!t)return;const a=E(o)?{...o}:o;p.push(...r.flatMap(i=>e.map(y=>c(t,i,y,a))))},{immediate:!0,flush:"post"}),u=()=>{l(),m()};return d(u),u}export{C as u};
