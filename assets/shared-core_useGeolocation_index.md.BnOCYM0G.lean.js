import{t as I}from"./chunks/index.qVbhMwFm.js";import"./chunks/is.CvtvcIRX.js";import{b as S}from"./chunks/configurable.DRaGijES.js";import{u as D}from"./chunks/index.C8TLjytL.js";import{p as C,D as G,d as x,c as F,o as P,j as i,t as N,k as t,C as f,G as h,ah as T,a as k,w as A}from"./chunks/framework.ArdWB6UD.js";function w(g={}){const{enableHighAccuracy:o=!0,maximumAge:a=3e4,timeout:s=27e3,navigator:e=S,immediate:l=!0}=g,m=D(()=>e&&"geolocation"in e),n=C(null),r=G(null),E=C({accuracy:0,latitude:Number.POSITIVE_INFINITY,longitude:Number.POSITIVE_INFINITY,altitude:null,altitudeAccuracy:null,heading:null,speed:null});function v(u){n.value=u.timestamp,E.value=u.coords,r.value=null}let c=null;function y(){return new Promise((u,b)=>{if(!m.value||!(e!=null&&e.geolocation)){b(new Error("Geolocation is not supported"));return}let p=!1;c=e.geolocation.watchPosition(d=>{v(d),p||(p=!0,u(d))},d=>{r.value=d,p||(p=!0,b(d))},{enableHighAccuracy:o,maximumAge:a,timeout:s})})}l&&y();function _(){c!=null&&(e!=null&&e.geolocation)&&(e.geolocation.clearWatch(c),c=null)}return I(()=>{_()}),{isSupported:m,coords:E,locatedAt:n,error:r,resume:y,pause:_}}const B={lang:"json"},O=x({__name:"demo",setup(g){const{coords:o,locatedAt:a,error:s,resume:e,pause:l}=w();return(m,n)=>(P(),F("div",null,[i("pre",B,N(JSON.stringify({coords:{accuracy:t(o).accuracy,latitude:t(o).latitude,longitude:t(o).longitude,altitude:t(o).altitude,altitudeAccuracy:t(o).altitudeAccuracy,heading:t(o).heading,speed:t(o).speed},locatedAt:t(a),error:t(s)?t(s).message:t(s)},null,2)),1),i("button",{onClick:n[0]||(n[0]=(...r)=>t(l)&&t(l)(...r))},"Pause watch"),i("button",{onClick:n[1]||(n[1]=(...r)=>t(e)&&t(e)(...r))},"Start watch")]))}}),R=JSON.parse('{"title":"useGeolocation","description":"","frontmatter":{"category":"Sensors"},"headers":[],"relativePath":"shared-core/useGeolocation/index.md","filePath":"share/core/useGeolocation/index.md","lastUpdated":1720970429000}'),V={name:"shared-core/useGeolocation/index.md"},J=Object.assign(V,{setup(g){return(o,a)=>{const s=f("FunctionInfo"),e=f("DemoContainer"),l=f("ClientOnly");return P(),F("div",null,[a[0]||(a[0]=i("h1",{id:"usegeolocation",tabindex:"-1"},[k("useGeolocation "),i("a",{class:"header-anchor",href:"#usegeolocation","aria-label":'Permalink to "useGeolocation"'},"​")],-1)),h(s,{frontmatter:o.$frontmatter,package:"Share - Core",fn:"useGeolocation"},null,8,["frontmatter"]),a[1]||(a[1]=i("p",null,[k("Reactive "),i("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Geolocation_API",target:"_blank",rel:"noreferrer"},"Geolocation API"),k(". It allows the user to provide their location to web applications if they so desire. For privacy reasons, the user is asked for permission to report location information.")],-1)),a[2]||(a[2]=i("h2",{id:"demo",tabindex:"-1"},[k("Demo "),i("a",{class:"header-anchor",href:"#demo","aria-label":'Permalink to "Demo"'},"​")],-1)),h(l,null,{default:A(()=>[h(e,null,{default:A(()=>[h(O)]),_:1})]),_:1}),a[3]||(a[3]=T("",5))])}}});export{R as __pageData,J as default};
