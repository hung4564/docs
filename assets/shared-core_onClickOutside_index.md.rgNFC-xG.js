import{d as O,p as E,c as u,o as c,F as w,j as o,e as _,ai as B,a0 as P,k as x,a as y,_ as I,C as F,G as m,ah as S,w as T}from"./chunks/framework.ArdWB6UD.js";import{n as g,i as N}from"./chunks/is.CvtvcIRX.js";import{u as h}from"./chunks/index.0Jj092t_.js";import{d as q}from"./chunks/configurable.DRaGijES.js";import{u as f}from"./chunks/index.COK6Xz62.js";import"./chunks/index._UC6Waud.js";import"./chunks/index.qVbhMwFm.js";const b={mounted:"mounted",unmounted:"unmounted"};let D=!1;function v(l,t,e={}){const{window:i=q,ignore:p=[],capture:k=!0,detectIframe:a=!1}=e;if(!i)return g;N&&!D&&(D=!0,Array.from(i.document.body.children).forEach(s=>s.addEventListener("click",g)),i.document.documentElement.addEventListener("click",g));let d=!0;const C=s=>p.some(n=>{if(typeof n=="string")return Array.from(i.document.querySelectorAll(n)).some(r=>r===s.target||s.composedPath().includes(r));{const r=h(n);return r&&(s.target===r||s.composedPath().includes(r))}}),A=[f(i,"click",s=>{const n=h(l);if(!(!n||n===s.target||s.composedPath().includes(n))){if(s.detail===0&&(d=!C(s)),!d){d=!0;return}t(s)}},{passive:!0,capture:k}),f(i,"pointerdown",s=>{const n=h(l);d=!C(s)&&!!(n&&!s.composedPath().includes(n))},{passive:!0}),a&&f(i,"blur",s=>{setTimeout(()=>{var r;const n=h(l);((r=i.document.activeElement)==null?void 0:r.tagName)==="IFRAME"&&!(n!=null&&n.contains(i.document.activeElement))&&t(s)},0)})].filter(Boolean);return()=>A.forEach(s=>s())}const V={[b.mounted](l,t){const e=!t.modifiers.bubble;if(typeof t.value=="function")l.__onClickOutside_stop=v(l,t.value,{capture:e});else{const[i,p]=t.value;l.__onClickOutside_stop=v(l,i,Object.assign({capture:e},p))}},[b.unmounted](l){l.__onClickOutside_stop()}},L={class:"ml-2 relative inline-block"},U={key:0,class:"dropdown-inner"},$={class:"inner"},j=O({__name:"demo",setup(l){const t=E(!1),e=E(null);v(e,k=>{console.info(k),t.value=!1});const i=E(!1),p=k=>{console.info(k),i.value=!1};return(k,a)=>(c(),u(w,null,[o("button",{onClick:a[0]||(a[0]=d=>t.value=!0)},"Open Modal"),o("div",L,[o("button",{onClick:a[1]||(a[1]=P(d=>i.value=!i.value,["stop"]))},"Toggle Dropdown"),i.value?B((c(),u("div",U,a[3]||(a[3]=[y(" Click outside of the dropdown to close it. ")]))),[[x(V),p,void 0,{bubble:!0}]]):_("",!0)]),t.value?(c(),u("div",{key:0,ref_key:"modalRef",ref:e,class:"modal"},[o("div",$,[o("button",{class:"button small",title:"Close",onClick:a[2]||(a[2]=d=>t.value=!1)}," ð–· "),a[4]||(a[4]=o("p",{class:"heading"},"Demo Modal",-1)),a[5]||(a[5]=o("p",null,"Click outside of the modal to close it.",-1))])],512)):_("",!0)],64))}}),M=I(j,[["__scopeId","data-v-763ee9f5"]]),Z=JSON.parse('{"title":"onClickOutside","description":"","frontmatter":{"category":"Sensors"},"headers":[],"relativePath":"shared-core/onClickOutside/index.md","filePath":"share/core/onClickOutside/index.md","lastUpdated":1720970429000}'),R={name:"shared-core/onClickOutside/index.md"},ss=Object.assign(R,{setup(l){return(t,e)=>{const i=F("FunctionInfo"),p=F("DemoContainer");return c(),u("div",null,[e[0]||(e[0]=o("h1",{id:"onclickoutside",tabindex:"-1"},[y("onClickOutside "),o("a",{class:"header-anchor",href:"#onclickoutside","aria-label":'Permalink to "onClickOutside"'},"â€‹")],-1)),m(i,{frontmatter:t.$frontmatter,package:"Share - Core",fn:"onClickOutside"},null,8,["frontmatter"]),e[1]||(e[1]=o("p",null,"Listen for clicks outside of an element. Useful for modal or dropdown.",-1)),e[2]||(e[2]=o("h2",{id:"demo",tabindex:"-1"},[y("Demo "),o("a",{class:"header-anchor",href:"#demo","aria-label":'Permalink to "Demo"'},"â€‹")],-1)),m(p,null,{default:T(()=>[m(M)]),_:1}),e[3]||(e[3]=S(`<h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-label="Permalink to &quot;Usage&quot;">â€‹</a></h2><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ref } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { onClickOutside } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@hungpvq/shared-core&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> target</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onClickOutside</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(target, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">event</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">info</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(event));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;target&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Hello world&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Outside element&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><blockquote><p>This function uses <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/composedPath" target="_blank" rel="noreferrer">Event.composedPath()</a> which is NOT supported by IE 11, Edge 18 and below. If you are targeting these browsers, we recommend you to include <a href="https://gist.github.com/sibbng/13e83b1dd1b733317ce0130ef07d4efd" target="_blank" rel="noreferrer">this code snippet</a> on your project.</p></blockquote>`,3))])}}});export{Z as __pageData,ss as default};
