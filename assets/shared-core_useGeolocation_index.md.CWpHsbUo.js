import{t as I}from"./chunks/index.qVbhMwFm.js";import"./chunks/is.CvtvcIRX.js";import{b as S}from"./chunks/configurable.DRaGijES.js";import{u as D}from"./chunks/index.C8TLjytL.js";import{p as C,D as G,d as x,c as F,o as P,j as i,t as N,k as t,C as f,G as h,ah as T,a as k,w as A}from"./chunks/framework.ArdWB6UD.js";function w(g={}){const{enableHighAccuracy:o=!0,maximumAge:a=3e4,timeout:s=27e3,navigator:e=S,immediate:l=!0}=g,m=D(()=>e&&"geolocation"in e),n=C(null),r=G(null),E=C({accuracy:0,latitude:Number.POSITIVE_INFINITY,longitude:Number.POSITIVE_INFINITY,altitude:null,altitudeAccuracy:null,heading:null,speed:null});function v(u){n.value=u.timestamp,E.value=u.coords,r.value=null}let c=null;function y(){return new Promise((u,b)=>{if(!m.value||!(e!=null&&e.geolocation)){b(new Error("Geolocation is not supported"));return}let p=!1;c=e.geolocation.watchPosition(d=>{v(d),p||(p=!0,u(d))},d=>{r.value=d,p||(p=!0,b(d))},{enableHighAccuracy:o,maximumAge:a,timeout:s})})}l&&y();function _(){c!=null&&(e!=null&&e.geolocation)&&(e.geolocation.clearWatch(c),c=null)}return I(()=>{_()}),{isSupported:m,coords:E,locatedAt:n,error:r,resume:y,pause:_}}const B={lang:"json"},O=x({__name:"demo",setup(g){const{coords:o,locatedAt:a,error:s,resume:e,pause:l}=w();return(m,n)=>(P(),F("div",null,[i("pre",B,N(JSON.stringify({coords:{accuracy:t(o).accuracy,latitude:t(o).latitude,longitude:t(o).longitude,altitude:t(o).altitude,altitudeAccuracy:t(o).altitudeAccuracy,heading:t(o).heading,speed:t(o).speed},locatedAt:t(a),error:t(s)?t(s).message:t(s)},null,2)),1),i("button",{onClick:n[0]||(n[0]=(...r)=>t(l)&&t(l)(...r))},"Pause watch"),i("button",{onClick:n[1]||(n[1]=(...r)=>t(e)&&t(e)(...r))},"Start watch")]))}}),R=JSON.parse('{"title":"useGeolocation","description":"","frontmatter":{"category":"Sensors"},"headers":[],"relativePath":"shared-core/useGeolocation/index.md","filePath":"share/core/useGeolocation/index.md","lastUpdated":1756909102000}'),V={name:"shared-core/useGeolocation/index.md"},J=Object.assign(V,{setup(g){return(o,a)=>{const s=f("FunctionInfo"),e=f("DemoContainer"),l=f("ClientOnly");return P(),F("div",null,[a[0]||(a[0]=i("h1",{id:"usegeolocation",tabindex:"-1"},[k("useGeolocation "),i("a",{class:"header-anchor",href:"#usegeolocation","aria-label":'Permalink to "useGeolocation"'},"​")],-1)),h(s,{frontmatter:o.$frontmatter,package:"Share - Core",fn:"useGeolocation"},null,8,["frontmatter"]),a[1]||(a[1]=i("p",null,[k("Reactive "),i("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Geolocation_API",target:"_blank",rel:"noreferrer"},"Geolocation API"),k(". It allows the user to provide their location to web applications if they so desire. For privacy reasons, the user is asked for permission to report location information.")],-1)),a[2]||(a[2]=i("h2",{id:"demo",tabindex:"-1"},[k("Demo "),i("a",{class:"header-anchor",href:"#demo","aria-label":'Permalink to "Demo"'},"​")],-1)),h(l,null,{default:A(()=>[h(e,null,{default:A(()=>[h(O)]),_:1})]),_:1}),a[3]||(a[3]=T(`<h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-label="Permalink to &quot;Usage&quot;">​</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { useGeolocation } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@hungpvq/shared-core&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">coords</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">locatedAt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">resume</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">pause</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useGeolocation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><table tabindex="0"><thead><tr><th>State</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>coords</td><td><a href="https://developer.mozilla.org/en-US/docs/Web/API/Coordinates" target="_blank" rel="noreferrer"><code>Coordinates</code></a></td><td>information about the position retrieved like the latitude and longitude</td></tr><tr><td>locatedAt</td><td><code>Date</code></td><td>The time of the last geolocation call</td></tr><tr><td>error</td><td><code>string</code></td><td>An error message in case geolocation API fails.</td></tr><tr><td>resume</td><td><code>function</code></td><td>Control function to resume updating geolocation</td></tr><tr><td>pause</td><td><code>function</code></td><td>Control function to pause updating geolocation</td></tr></tbody></table><h2 id="config" tabindex="-1">Config <a class="header-anchor" href="#config" aria-label="Permalink to &quot;Config&quot;">​</a></h2><p><code>useGeolocation</code> function takes <a href="https://developer.mozilla.org/en-US/docs/Web/API/PositionOptions" target="_blank" rel="noreferrer">PositionOptions</a> object as an optional parameter.</p>`,5))])}}});export{R as __pageData,J as default};
